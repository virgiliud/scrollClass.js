/*
 * ScrollClass JS Utility v2.0
 *
 * Author: Virgiliu Diaconu
 * http://www.virgiliudiaconu.com
 * Licensed under the MIT license.
 */
class ScrollClass{static defaultOptions={delay:10,threshold:50,reset:!1,offsetTop:0,throttle:50};constructor(t,s={}){this.el=t,this.win=window,this.viewed=!1,this.timer=null,this.throttleDelay=null,this.options=Object.assign({},ScrollClass.defaultOptions,s),this.delay=void 0!==this.el.dataset.scrollDelay?Number(this.el.dataset.scrollDelay):this.options.delay,this.threshold=void 0!==this.el.dataset.scrollThreshold?Number(this.el.dataset.scrollThreshold):this.options.threshold,this.offsetTop=void 0!==this.el.dataset.scrollOffsetTop?Number(this.el.dataset.scrollOffsetTop):this.options.offsetTop,this.reset=this.el.hasAttribute("data-scroll-reset")?""===this.el.dataset.scrollReset||"true"===this.el.dataset.scrollReset.toLowerCase():this.options.reset,this.init()}init(){this.onScroll(),this.win.addEventListener("scroll",(()=>{this.throttle(this.scrollHandler.bind(this),this.options.throttle)}))}scrollHandler(){this.viewed&&!this.reset||this.onScroll()}onScroll(){if(this.inViewport()){if(this.viewed&&this.reset)return;"function"==typeof this.options.callback&&this.options.callback.call(this.el),window.clearTimeout(this.timer),this.timer=window.setTimeout((()=>{this.toggleScrollClass()}),this.delay),this.viewed=!0}else this.reset&&(this.viewed&&"function"==typeof this.options.resetCallback&&this.options.resetCallback.call(this.el),this.toggleScrollClass(),this.viewed=!1)}toggleScrollClass(){const t=this.el.getAttribute("data-scroll-class");if(!t)return;const s=t.split(" ");this.viewed?s.forEach((t=>this.el.classList.add(t))):s.forEach((t=>this.el.classList.remove(t)))}inViewport(){const t=this.el.getBoundingClientRect(),s=this.win.innerHeight;let e=this.threshold;s<t.height&&(e=50);let i=e/100*t.height;return i=!1===this.viewed?i:1,t.top+i<=s&&t.bottom-i>=this.offsetTop}throttle(t,s){this.throttleDelay||(this.throttleDelay=!0,setTimeout((()=>{t(),this.throttleDelay=!1}),s))}}window.ScrollClass=ScrollClass;