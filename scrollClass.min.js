/*
 * scrollClass Plugin v2.0
 *
 * Author: Virgiliu Diaconu
 * http://www.virgiliudiaconu.com
 * Licensed under the MIT license.
 */
class t{static defaultOptions={delay:10,threshold:50,reset:!1,offsetTop:0,throttle:50};constructor(s,e={}){this.el=s,this.win=window,this.viewed=!1,this.timer=null,this.throttleDelay=null,this.options=Object.assign({},t.defaultOptions,e),this.delay=this.el.dataset.scrollDelay??this.options.delay,this.threshold=this.el.dataset.scrollThreshold??this.options.threshold,this.offsetTop=this.el.dataset.scrollOffsetTop??this.options.offsetTop,this.reset=this.el.dataset.scrollReset??this.options.reset,this.init()}init(){this.onScroll(),this.win.addEventListener("scroll",(()=>{this.throttle(this.scrollHandler.bind(this),this.options.throttle)}))}scrollHandler(){!0===this.viewed&&!1===this.reset||this.onScroll()}onScroll(){if(this.inViewport()){if(!0===this.viewed&&!0===this.reset)return;"function"==typeof this.options.callback&&this.options.callback.call(this.el),window.clearTimeout(this.timer),this.timer=window.setTimeout((()=>{this.toggleScrollClass()}),this.delay),this.viewed=!0}else!0===this.reset&&(!0===this.viewed&&"function"==typeof this.options.resetCallback&&this.options.resetCallback.call(this.el),this.toggleScrollClass(),this.viewed=!1)}toggleScrollClass(){const t=this.el.getAttribute("data-scroll-class");!0===this.viewed?this.el.classList.add(t):this.el.classList.remove(t)}inViewport(){const t=this.el.getBoundingClientRect(),s=this.win.innerHeight;let e=this.threshold;s<t.height&&(e=50);let i=e/100*t.height;return i=!1===this.viewed?i:1,t.top+i<=s&&t.bottom-i>=this.offsetTop}throttle(t,s){this.throttleDelay||(this.throttleDelay=!0,setTimeout((()=>{t(),this.throttleDelay=!1}),s))}}window.ScrollClass=t;